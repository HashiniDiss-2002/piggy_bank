<!DOCTYPE html>
<html>
<head>
  <title>üê∑ Piggy Bank - Saving Tracker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: rgb(223, 106, 125);
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .card {
      background-color: white;
      padding: 40px;
      border-radius: 15px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
      text-align: center;
      width: 350px;
      max-height: 90vh;
      overflow-y: auto;
    }

    .card img {
      width: 100px;
      height: 100px;
      margin-bottom: 20px;
    }

    .card h1 {
      margin: 0 0 10px 0;
      font-size: 28px;
      color: rgb(223, 106, 125);
    }

    .card h2 {
      margin-bottom: 20px;
      font-size: 22px;
      color: #333;
    }

    .card input {
      width: 80%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 16px;
    }

    .card button {
      width: 40%;
      padding: 10px;
      margin: 10px 5px 0 5px;
      border-radius: 8px;
      border: none;
      font-size: 16px;
      cursor: pointer;
      color: white;
    }

    .card button.login-btn {
      background-color: rgb(223, 106, 125);
    }

    .card button.signup-btn {
      background-color: rgb(100, 181, 246);
    }

    .card button:hover {
      opacity: 0.9;
    }

    .hidden {
      display: none;
    }

    h3 {
      margin-top: 25px;
      color: #333;
    }

    ul {
      list-style: none;
      padding: 0;
    }

    ul li {
      margin: 5px 0;
      padding: 5px;
      border-bottom: 1px solid #ddd;
      text-align: left;
    }

    select, input[type=number] {
      width: 80%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <!-- Login / Signup -->
  <div id="auth-section" class="card">
    <img src="" alt="Piggy Bank Logo" />
    <h1>Piggy Bank</h1>
    <h2>Login / Signup</h2>
    <input type="email" id="email" placeholder="Email"><br>
    <input type="password" id="password" placeholder="Password"><br>
    <button class="login-btn" onclick="login()">Login</button>
    <button class="signup-btn" onclick="signup()">Signup</button>
  </div>

  <!-- Dashboard -->
  <div id="dashboard" class="card hidden">
    <h1>Piggy Bank Dashboard</h1>
    <button class="login-btn" onclick="logout()">Logout</button>

    <h3>Categories</h3>
    <ul id="category-list"></ul>
    <input type="text" id="new-category" placeholder="New Category">
    <button class="signup-btn" onclick="addCategory()">Add Category</button>

    <h3>Add Expense</h3>
    <input type="text" id="expense-name" placeholder="Expense Name"><br>
    <input type="number" id="expense-amount" placeholder="Amount"><br>
    <select id="category-select"></select><br>
    <button class="signup-btn" onclick="addExpense()">Add Expense</button>

    <h3>Expenses History</h3>
    <ul id="expense-list"></ul>
  </div>

  <script type="module">
    // Keep Firebase app initialized for analytics (optional, can remove if you want)
    //import { initializeApp } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js";
    //import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-analytics.js";

    //const firebaseConfig = {
      //apiKey: "AIzaSyB03PiDFmzdKIGJsl9mBdSqjqcYQallUTk",
      //authDomain: "piggybank-da942.firebaseapp.com",
     // projectId: "piggybank-da942",
    //  storageBucket: "piggybank-da942.firebasestorage.app",
      //messagingSenderId: "270202155163",
    //  appId: "1:270202155163:web:09e87be83fecc7fdbe163e",
  //    measurementId: "G-B8QG7CDZ8J"
    //};

   // const app = initializeApp(firebaseConfig);
   // const analytics = getAnalytics(app);

    // --- Local Authentication ---

    const VALID_EMAIL = "user@example.com";
    const VALID_PASSWORD = "password123";

    const authSection = document.getElementById("auth-section");
    const dashboard = document.getElementById("dashboard");
    const emailInput = document.getElementById("email");
    const passwordInput = document.getElementById("password");
    const categoryList = document.getElementById("category-list");
    const categorySelect = document.getElementById("category-select");
    const expenseList = document.getElementById("expense-list");

    let loggedIn = false;

    // Signup disabled, just alert
    function signup() {
      alert("Signup is disabled in this local demo. Please use the fixed credentials to login.");
    }

    function login() {
      const email = emailInput.value.trim();
      const password = passwordInput.value;

      if (email === VALID_EMAIL && password === VALID_PASSWORD) {
        loggedIn = true;
        authSection.classList.add("hidden");
        dashboard.classList.remove("hidden");

        // Load any data if you want here (currently no DB, so lists empty)
        loadCategories();
        loadExpenses();
      } else {
        alert("Invalid email or password.");
      }
    }

    function logout() {
      loggedIn = false;
      authSection.classList.remove("hidden");
      dashboard.classList.add("hidden");
      emailInput.value = "";
      passwordInput.value = "";
    }

    // Stub functions for categories and expenses since no Firebase DB

    function loadCategories() {
      // Clear existing lists
      categoryList.innerHTML = "";
      categorySelect.innerHTML = "<option value=''>No Category</option>";
      // No DB: you can implement localStorage or just keep empty for now
    }

    function addCategory() {
      alert("Add category disabled without backend.");
    }

    function loadExpenses() {
      expenseList.innerHTML = "";
      // No DB: keep empty for now
    }

    function addExpense() {
      alert("Add expense disabled without backend.");
    }

    // On load show login screen by default
    window.onload = () => {
      if (!loggedIn) {
        authSection.classList.remove("hidden");
        dashboard.classList.add("hidden");
      }
    };
  </script>
</body>
</html>
